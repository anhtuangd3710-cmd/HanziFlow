exports.id=85,exports.ids=[85],exports.modules={1853:(a,b,c)=>{"use strict";c.d(b,{r:()=>f});var d=c(21124);c(38301);var e=c(57927);let f=a=>(0,d.jsxs)(e.z,{...a,children:[(0,d.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,d.jsx)("circle",{cx:"12",cy:"10",r:"4"}),(0,d.jsx)("path",{d:"M12 14c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})]})},4815:(a,b,c)=>{Promise.resolve().then(c.bind(c,98916))},35193:(a,b,c)=>{"use strict";c.d(b,{D:()=>f});var d=c(21124);c(38301);var e=c(57927);let f=a=>(0,d.jsx)(e.z,{...a,children:(0,d.jsx)("polyline",{points:"6 9 12 15 18 9"})})},42414:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(21124),e=c(38301),f=c(57927);let g=a=>(0,d.jsx)(f.z,{...a,children:(0,d.jsx)("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})}),h=({onClose:a})=>{let[b,c]=(0,e.useState)("");return(0,d.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4",children:[(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md animate-fade-in",children:[(0,d.jsxs)("div",{className:"p-6 border-b flex items-center",children:[(0,d.jsx)(g,{className:"h-6 w-6 mr-3 text-yellow-500"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Set Your Gemini API Key"})]}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["To use AI-powered features like example sentence generation, you need to provide your own Gemini API key. You can get one from"," ",(0,d.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Google AI Studio"}),"."]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Your API Key"}),(0,d.jsx)("input",{id:"apiKey",type:"password",value:b,onChange:a=>c(a.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your key here"}),(0,d.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Your key will be stored securely in your browser's local storage and will not be sent anywhere else."})]})]}),(0,d.jsxs)("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-3",children:[(0,d.jsx)("button",{onClick:a,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,d.jsx)("button",{onClick:()=>{b.trim()?(localStorage.setItem("gemini_api_key",b.trim()),alert("API Key saved successfully! You can now use AI features."),a()):alert("Please enter a valid API Key.")},className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Key"})]})]}),(0,d.jsx)("style",{children:`
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.3s ease-out forwards;
        }
      `})]})}},46637:(a,b,c)=>{"use strict";c.d(b,{h:()=>f});var d=c(21124);c(38301);var e=c(57927);let f=a=>(0,d.jsx)(e.z,{...a,children:(0,d.jsx)("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})})},57927:(a,b,c)=>{"use strict";c.d(b,{z:()=>e});var d=c(21124);c(38301);let e=({children:a,size:b=24,className:c="",...e})=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:b,height:b,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:c,...e,children:a})},63746:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(21124),e=c(38301),f=c(42378),g=c(52827),h=c(81869),i=c(96975),j=c(42414);function k({children:a}){let b=(0,e.useContext)(g.B);if((0,f.useRouter)(),!b||!b.state.isHydrated)return(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsx)(i.A,{})});let{state:c,closeApiKeyModal:k}=b;return c.user?(0,d.jsxs)(d.Fragment,{children:[c.isRequestingUserApiKey&&(0,d.jsx)(j.A,{onClose:k}),(0,d.jsxs)("div",{className:"min-h-screen bg-gray-100 text-gray-800 font-sans",children:[(0,d.jsx)(h.A,{}),(0,d.jsx)("main",{className:"p-4 sm:p-6 lg:p-8",children:(0,d.jsx)(e.Suspense,{fallback:(0,d.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading page..."})]}),children:a})})]})]}):(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsx)(i.A,{})})}},69596:(a,b,c)=>{"use strict";c.d(b,{c:()=>f});var d=c(21124);c(38301);var e=c(57927);let f=a=>(0,d.jsxs)(e.z,{...a,children:[(0,d.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,d.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,d.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,d.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},74938:(a,b,c)=>{"use strict";c.d(b,{O:()=>f});var d=c(21124);c(38301);var e=c(57927);let f=a=>(0,d.jsxs)(e.z,{...a,children:[(0,d.jsx)("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),(0,d.jsx)("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),(0,d.jsx)("path",{d:"M4 22h16"}),(0,d.jsx)("path",{d:"M10 14.66V22h4v-7.34"}),(0,d.jsx)("path",{d:"M12 14.66L15.46 9H8.54L12 14.66z"})]})},81869:(a,b,c)=>{"use strict";c.d(b,{A:()=>r});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(24515),i=c(42378),j=c(52827),k=c(46637),l=c(69596),m=c(1853),n=c(35193),o=c(74938),p=c(57927);let q=a=>(0,d.jsxs)(p.z,{...a,children:[(0,d.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,d.jsx)("path",{d:"m9 12 2 2 4-4"})]}),r=()=>{let a=(0,e.useContext)(j.B),b=(0,i.useRouter)(),[c,f]=(0,e.useState)(!1),p=(0,e.useRef)(null);if(!a)return null;let{state:r,logout:s}=a;(0,e.useEffect)(()=>{let a=a=>{p.current&&!p.current.contains(a.target)&&f(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[p]);let t=r.user,u=t?Math.floor(t.xp/100)+1:1,v=t?t.xp%100:0,w=v/100*100;return(0,d.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-40",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsxs)(g(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[(0,d.jsx)(h.default,{src:"/logo.png",alt:"HanziFlow Logo",width:40,height:40,className:"rounded-lg"}),(0,d.jsx)("span",{className:"text-xl font-bold text-blue-600 hidden sm:inline",children:"HanziFlow"})]})}),t&&(0,d.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,d.jsxs)(g(),{href:"/leaderboard",className:"flex items-center gap-2 py-2 px-3 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-semibold transition-colors",children:[(0,d.jsx)(o.O,{size:20}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Leaderboard"})]}),(0,d.jsxs)(g(),{href:"/community",className:"flex items-center gap-2 py-2 px-3 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-semibold transition-colors",children:[(0,d.jsx)(l.c,{size:20}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Community"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(k.h,{className:"h-6 w-6 text-orange-500"}),(0,d.jsx)("span",{className:"font-bold text-lg text-gray-700",children:t.currentStreak})]}),(0,d.jsxs)("div",{className:"hidden md:block w-40",children:[(0,d.jsxs)("div",{className:"flex justify-between items-baseline mb-1",children:[(0,d.jsxs)("span",{className:"text-sm font-bold text-gray-700",children:["Level ",u]}),(0,d.jsxs)("span",{className:"text-xs text-gray-500",children:[v," / ",100," XP"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,d.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${w}%`}})})]}),(0,d.jsxs)("div",{className:"relative",ref:p,children:[(0,d.jsxs)("button",{onClick:()=>f(!c),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,d.jsx)(m.r,{size:32,className:"text-gray-600"}),(0,d.jsx)("span",{className:"hidden lg:inline font-semibold text-gray-800",children:t.name}),(0,d.jsx)(n.D,{size:20,className:`text-gray-500 transition-transform ${c?"rotate-180":""}`})]}),c&&(0,d.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 ring-1 ring-black ring-opacity-5",children:[(0,d.jsx)(g(),{href:"/profile",onClick:()=>f(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"My Profile"}),"admin"===t.role&&(0,d.jsxs)(g(),{href:"/admin",onClick:()=>f(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,d.jsx)(q,{size:16,className:"mr-2"}),"Admin Panel"]}),(0,d.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,d.jsx)("button",{onClick:()=>{f(!1),s(),b.push("/login")},className:"w-full text-left block px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]})]})]})})})}},87943:(a,b,c)=>{Promise.resolve().then(c.bind(c,63746))},96975:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=()=>(0,d.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})},98916:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/huynhhuunghia/Documents/IT/hanziflow/frontend/app/(app)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/huynhhuunghia/Documents/IT/hanziflow/frontend/app/(app)/layout.tsx","default")}};