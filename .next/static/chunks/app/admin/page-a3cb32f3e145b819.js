(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{17237:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var l=t(95155);t(12115);let a=()=>(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})},29490:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var l=t(95155),a=t(12115),r=t(43853),d=t(26265),i=t(12723),n=t(4035),o=t(69386),c=t(33420),h=t(96324),x=t(68425),u=t(47734),m=t(73697),j=t(37665),f=t(35252),g=t(79222),b=t(63056);let v=["#3b82f6","#10b981","#f59e0b","#ef4444"],y=e=>{let{userCount:s,setCount:t,isLoading:a}=e,r=[{name:"Users",value:s,fill:"#3b82f6"},{name:"Sets",value:Math.max(t,1),fill:"#10b981"}],y=[{day:"Mon",users:Math.floor(.6*s),sets:Math.floor(.5*t)},{day:"Tue",users:Math.floor(.7*s),sets:Math.floor(.6*t)},{day:"Wed",users:Math.floor(.8*s),sets:Math.floor(.7*t)},{day:"Thu",users:s,sets:t},{day:"Fri",users:Math.floor(.9*s),sets:Math.floor(.8*t)},{day:"Sat",users:Math.floor(.7*s),sets:Math.floor(.6*t)},{day:"Sun",users:Math.floor(.5*s),sets:Math.floor(.4*t)}];return(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[(0,l.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600 font-semibold text-sm uppercase tracking-wide",children:"Total Users"}),a?(0,l.jsx)("div",{className:"h-10 w-20 bg-blue-200 rounded animate-pulse mt-2"}):(0,l.jsx)("p",{className:"text-4xl font-bold text-blue-600 mt-2",children:s.toLocaleString()})]}),(0,l.jsx)("div",{className:"bg-blue-500 p-4 rounded-full",children:(0,l.jsx)(g.c,{className:"text-white",size:32})})]})}),(0,l.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg shadow-md border-l-4 border-green-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600 font-semibold text-sm uppercase tracking-wide",children:"Total Sets"}),a?(0,l.jsx)("div",{className:"h-10 w-20 bg-green-200 rounded animate-pulse mt-2"}):(0,l.jsx)("p",{className:"text-4xl font-bold text-green-600 mt-2",children:t.toLocaleString()})]}),(0,l.jsx)("div",{className:"bg-green-500 p-4 rounded-full",children:(0,l.jsx)(b.s,{className:"text-white",size:32})})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Distribution"}),(0,l.jsx)(d.u,{width:"100%",height:300,children:(0,l.jsxs)(i.r,{children:[(0,l.jsx)(n.F,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,value:t}=e;return"".concat(s,": ").concat(t)},outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((e,s)=>(0,l.jsx)(o.f,{fill:v[s%v.length]},"cell-".concat(s)))}),(0,l.jsx)(c.m,{})]})})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Weekly Activity"}),(0,l.jsx)(d.u,{width:"100%",height:300,children:(0,l.jsxs)(h.E,{data:y,children:[(0,l.jsx)(x.d,{strokeDasharray:"3 3"}),(0,l.jsx)(u.W,{dataKey:"day"}),(0,l.jsx)(m.h,{}),(0,l.jsx)(c.m,{}),(0,l.jsx)(j.s,{}),(0,l.jsx)(f.y,{dataKey:"users",fill:"#3b82f6",name:"Users"}),(0,l.jsx)(f.y,{dataKey:"sets",fill:"#10b981",name:"Sets"})]})})]})]})]})};var p=t(17237);let N=()=>{var e,s;let t=(0,a.useContext)(r.B);if((0,a.useEffect)(()=>{var e;(null==t||null==(e=t.state.user)?void 0:e.role)!=="admin"||t.state.adminStats||t.fetchAdminStats()},[]),!t)return null;let{state:d}=t,{adminStats:i,isLoading:n}=d;return n&&!i?(0,l.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,l.jsx)(p.A,{})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Admin Dashboard"}),(0,l.jsx)(y,{userCount:null!=(e=null==i?void 0:i.userCount)?e:0,setCount:null!=(s=null==i?void 0:i.setCount)?s:0,isLoading:n&&!i})]})};function w(){return(0,l.jsx)(N,{})}},34267:(e,s,t)=>{"use strict";t.d(s,{z:()=>a});var l=t(95155);t(12115);let a=e=>{let{children:s,size:t=24,className:a="",...r}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,...r,children:s})}},43399:(e,s,t)=>{Promise.resolve().then(t.bind(t,29490))},63056:(e,s,t)=>{"use strict";t.d(s,{s:()=>r});var l=t(95155);t(12115);var a=t(34267);let r=e=>(0,l.jsxs)(a.z,{...e,children:[(0,l.jsx)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),(0,l.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),(0,l.jsx)("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),(0,l.jsx)("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]})},79222:(e,s,t)=>{"use strict";t.d(s,{c:()=>r});var l=t(95155);t(12115);var a=t(34267);let r=e=>(0,l.jsxs)(a.z,{...e,children:[(0,l.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,l.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,l.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,l.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}},e=>{e.O(0,[798,613,853,441,255,358],()=>e(e.s=43399)),_N_E=e.O()}]);