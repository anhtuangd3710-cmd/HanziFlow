(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{14574:(e,s,r)=>{"use strict";r.d(s,{u:()=>n});var a=r(95155);r(12115);var t=r(34267);let n=e=>(0,a.jsxs)(t.z,{...e,children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},17237:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(95155);r(12115);let t=()=>(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})},20063:(e,s,r)=>{"use strict";var a=r(47260);r.o(a,"useParams")&&r.d(s,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},34267:(e,s,r)=>{"use strict";r.d(s,{z:()=>t});var a=r(95155);r(12115);let t=e=>{let{children:s,size:r=24,className:t="",...n}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...n,children:s})}},80510:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var a=r(95155),t=r(12115),n=r(20063),i=r(43853),o=r(17237),l=r(34267);let d=e=>(0,a.jsxs)(l.z,{...e,children:[(0,a.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,a.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),c=e=>(0,a.jsxs)(l.z,{...e,children:[(0,a.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,a.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),m=e=>(0,a.jsxs)(l.z,{...e,children:[(0,a.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,a.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),u=e=>(0,a.jsx)(l.z,{...e,children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})});var x=r(14574);let h=e=>{let{id:s,type:r,placeholder:t,value:n,onChange:i,onBlur:o,Icon:l,error:d,isTouched:c}=e,m=c&&!d,h=c&&!!d;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(l,{className:"h-5 w-5 ".concat(h?"text-red-500":"text-gray-400")})}),(0,a.jsx)("input",{id:s,name:s,type:r,required:!0,className:"appearance-none block w-full pl-10 pr-10 py-3 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none sm:text-sm transition-colors\n          ".concat(h?"border-red-500 focus:ring-red-500 focus:border-red-500":"","\n          ").concat(m?"border-green-500 focus:ring-green-500 focus:border-green-500":"","\n          ").concat(c?"":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500","\n        "),placeholder:t,value:n,onChange:i,onBlur:o}),(0,a.jsxs)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[h&&(0,a.jsx)(x.u,{className:"h-5 w-5 text-red-500"}),m&&(0,a.jsx)(u,{className:"h-5 w-5 text-green-500"})]})]})},f=()=>{let e=(0,t.useContext)(i.B),[s,r]=(0,t.useState)("login"),[n,l]=(0,t.useState)(""),[u,x]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[g,w]=(0,t.useState)(""),[j,v]=(0,t.useState)(!0),[y,b]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[N,P]=(0,t.useState)({name:!1,email:!1,password:!1,confirmPassword:!1});if(!e)return(0,a.jsx)("div",{children:"Loading context..."});let{login:S,register:k,state:C}=e,z=(0,t.useCallback)(()=>{let e={name:"",email:"",password:"",confirmPassword:""};return"register"===s&&n.trim().length<3&&(e.name="Name must be at least 3 characters long."),u?/\S+@\S+\.\S+/.test(u)||(e.email="Email address is invalid."):e.email="Email is required.",f?"register"===s&&(f.length<8?e.password="Password must be at least 8 characters.":/(?=.*[a-z])/.test(f)?/(?=.*[A-Z])/.test(f)?/(?=.*\d)/.test(f)?/(?=.*[\W_])/.test(f)||(e.password="Must contain a special character."):e.password="Must contain a number.":e.password="Must contain an uppercase letter.":e.password="Must contain a lowercase letter."):e.password="Password is required.","register"!==s||g?"register"===s&&f!==g&&(e.confirmPassword="Passwords do not match."):e.confirmPassword="Please confirm your password.",b(e),Object.values(e).every(e=>""===e)},[n,u,f,g,s]);(0,t.useEffect)(()=>{(N.name||N.email||N.password||N.confirmPassword)&&z()},[n,u,f,g,N,z]);let B=e=>{P(s=>({...s,[e]:!0}))},E=async e=>{e.preventDefault(),P({name:!0,email:!0,password:!0,confirmPassword:!0}),z()&&("register"===s?await k(n,u,f):await S(u,f,j))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,a.jsxs)("div",{className:"hidden lg:flex w-1/2 bg-indigo-700 items-center justify-center p-12 text-white relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute bg-indigo-800 rounded-full w-96 h-96 -top-10 -left-16 opacity-50"}),(0,a.jsx)("div",{className:"absolute bg-indigo-800 rounded-full w-80 h-80 -bottom-24 -right-10 opacity-50"}),(0,a.jsxs)("div",{className:"z-10 text-center",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold tracking-tight",children:"Welcome to HanziFlow"}),(0,a.jsx)("p",{className:"mt-4 text-lg opacity-80",children:"Master Chinese characters with smart flashcards and interactive quizzes. Your journey to fluency starts here."})]})]}),(0,a.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 animate-fade-in",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"login"===s?"Sign in to your account":"Create your account"})}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:E,noValidate:!0,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm space-y-4",children:[(0,a.jsx)("div",{className:"transition-all duration-500 ease-in-out overflow-hidden ".concat("register"===s?"max-h-48 opacity-100":"max-h-0 opacity-0"),children:"register"===s&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{id:"name",type:"text",placeholder:"Your Name",value:n,onChange:e=>l(e.target.value),onBlur:()=>B("name"),Icon:m,error:y.name,isTouched:N.name}),N.name&&y.name&&(0,a.jsx)("p",{className:"mt-2 text-xs text-red-600",children:y.name})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{id:"email",type:"email",placeholder:"Email address",value:u,onChange:e=>x(e.target.value),onBlur:()=>B("email"),Icon:d,error:y.email,isTouched:N.email}),N.email&&y.email&&(0,a.jsx)("p",{className:"mt-2 text-xs text-red-600",children:y.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{id:"password",type:"password",placeholder:"Password",value:f,onChange:e=>p(e.target.value),onBlur:()=>B("password"),Icon:c,error:y.password,isTouched:N.password}),N.password&&y.password&&(0,a.jsx)("p",{className:"mt-2 text-xs text-red-600",children:y.password})]}),(0,a.jsx)("div",{className:"transition-all duration-500 ease-in-out overflow-hidden ".concat("register"===s?"max-h-24 opacity-100":"max-h-0 opacity-0"),children:"register"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{id:"confirmPassword",type:"password",placeholder:"Confirm Password",value:g,onChange:e=>w(e.target.value),onBlur:()=>B("confirmPassword"),Icon:c,error:y.confirmPassword,isTouched:N.confirmPassword}),N.confirmPassword&&y.confirmPassword&&(0,a.jsx)("p",{className:"mt-2 text-xs text-red-600",children:y.confirmPassword})]})})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:j,onChange:e=>v(e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:C.isLoading,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 transition-transform transform hover:scale-105",children:C.isLoading?(0,a.jsx)(o.A,{}):"login"===s?"Sign In":"Create Account"})})]}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["login"===s?"Don't have an account?":"Already have an account?",(0,a.jsx)("button",{onClick:()=>{r(e=>"login"===e?"register":"login"),l(""),x(""),p(""),w(""),b({name:"",email:"",password:"",confirmPassword:""}),P({name:!1,email:!1,password:!1,confirmPassword:!1})},className:"font-medium text-indigo-600 hover:text-indigo-500 ml-1",children:"login"===s?"Sign Up":"Sign In"})]})]})}),(0,a.jsx)("style",{children:"\n        @keyframes fade-in {\n            from { opacity: 0; transform: translateY(10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in {\n            animation: fade-in 0.5s ease-out forwards;\n        }\n      "})]})};function p(){let e=(0,t.useContext)(i.B),s=(0,n.useRouter)();if((0,t.useEffect)(()=>{(null==e?void 0:e.state.user)&&s.push("/")},[null==e?void 0:e.state.user,s]),!e)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(o.A,{})});let{state:r}=e;return r.user?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(o.A,{})}):(0,a.jsx)(f,{})}},91637:(e,s,r)=>{Promise.resolve().then(r.bind(r,80510))}},e=>{e.O(0,[798,853,441,255,358],()=>e(e.s=91637)),_N_E=e.O()}]);