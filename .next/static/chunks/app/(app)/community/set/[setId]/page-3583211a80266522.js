(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{53592:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var a=t(95155),l=t(12115),i=t(43853),r=t(69526),n=t(17237),d=t(21304),c=t(20063),o=t(37621),x=t(59364);let m=()=>{var e,s;let{setId:t}=(0,c.useParams)(),r=(0,c.useRouter)(),d=(0,l.useContext)(i.B),[m,h]=(0,l.useState)(null),[u,g]=(0,l.useState)(!0),[j,p]=(0,l.useState)(null);if((0,l.useEffect)(()=>{(async()=>{if(t){g(!0);try{let e=await (0,o.Qj)(t);h(e)}catch(e){p("Could not load the set. It may have been removed or made private.")}finally{g(!1)}}})()},[t]),!d)return null;let{state:y,cloneSet:b}=d,v=null==(s=y.user)||null==(e=s.clonedSets)?void 0:e.includes(t||""),f=y.vocabSets.some(e=>e._id===t),N=async()=>{!v&&!f&&t&&await b(t)&&r.push("/")};return u?(0,a.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading set details..."})]}):j||!m?(0,a.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-lg mx-auto",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-red-600",children:"Error"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:j||"The set could not be found."}),(0,a.jsx)("button",{onClick:()=>r.push("/community"),className:"mt-6 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Community"})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start flex-wrap gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:m.title}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1",children:["by ",m.creatorName]})]}),(0,a.jsxs)("button",{onClick:N,disabled:v||f||y.isLoading,className:"flex items-center py-2 px-5 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-transform transform hover:scale-105",children:[y.isLoading&&(0,a.jsx)(n.A,{}),(0,a.jsx)(x.s,{size:20,className:"mr-2"}),v?"Added to Your Sets":f?"This is Your Set":"Add to My Sets"]})]}),(0,a.jsx)("p",{className:"mt-4 text-gray-700",children:m.description})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:["Words in this Set (",m.items.length,")"]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:m.items.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border bg-gray-50 rounded-md grid grid-cols-1 md:grid-cols-3 gap-x-4 gap-y-1",children:[(0,a.jsx)("div",{className:"font-semibold text-lg",children:e.hanzi}),(0,a.jsx)("div",{className:"text-gray-600",children:e.pinyin}),(0,a.jsx)("div",{className:"text-gray-800",children:e.meaning})]},e.id||s))})]}),(0,a.jsx)("button",{onClick:()=>r.push("/community"),className:"mt-8 block mx-auto text-gray-600 hover:text-gray-800 font-semibold",children:"â† Back to Community"})]})};function h(){let e=(0,l.useContext)(i.B);if(!e)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(n.A,{})});let{state:s,closeApiKeyModal:t}=e;return s.user?(0,a.jsxs)(a.Fragment,{children:[s.isRequestingUserApiKey&&(0,a.jsx)(d.A,{onClose:t}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100 text-gray-800 font-sans",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("main",{className:"p-4 sm:p-6 lg:p-8",children:(0,a.jsx)(l.Suspense,{fallback:(0,a.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading page..."})]}),children:(0,a.jsx)(m,{})})})]})]}):null}},59364:(e,s,t)=>{"use strict";t.d(s,{s:()=>i});var a=t(95155);t(12115);var l=t(34267);let i=e=>(0,a.jsxs)(l.z,{...e,children:[(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,a.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,a.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})},64319:(e,s,t)=>{Promise.resolve().then(t.bind(t,53592))}},e=>{e.O(0,[798,176,239,853,603,441,255,358],()=>e(e.s=64319)),_N_E=e.O()}]);