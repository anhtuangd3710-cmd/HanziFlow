"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8695:(e,s,a)=>{a.d(s,{D:()=>l});var t=a(95155);a(12115);var r=a(34267);let l=e=>(0,t.jsx)(r.z,{...e,children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})})},17237:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(95155);a(12115);let r=()=>(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})},21304:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(95155),r=a(12115),l=a(34267);let n=e=>(0,t.jsx)(l.z,{...e,children:(0,t.jsx)("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})}),i=e=>{let{onClose:s}=e,[a,l]=(0,r.useState)("");return(0,t.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md animate-fade-in",children:[(0,t.jsxs)("div",{className:"p-6 border-b flex items-center",children:[(0,t.jsx)(n,{className:"h-6 w-6 mr-3 text-yellow-500"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Set Your Gemini API Key"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["To use AI-powered features like example sentence generation, you need to provide your own Gemini API key. You can get one from"," ",(0,t.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Google AI Studio"}),"."]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Your API Key"}),(0,t.jsx)("input",{id:"apiKey",type:"password",value:a,onChange:e=>l(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your key here"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Your key will be stored securely in your browser's local storage and will not be sent anywhere else."})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:s,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{a.trim()?(localStorage.setItem("gemini_api_key",a.trim()),alert("API Key saved successfully! You can now use AI features."),s()):alert("Please enter a valid API Key.")},className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Key"})]})]}),(0,t.jsx)("style",{children:"\n        @keyframes fade-in {\n            from { opacity: 0; transform: translateY(-10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in {\n            animation: fade-in 0.3s ease-out forwards;\n        }\n      "})]})}},34267:(e,s,a)=>{a.d(s,{z:()=>r});var t=a(95155);a(12115);let r=e=>{let{children:s,size:a=24,className:r="",...l}=e;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,...l,children:s})}},35877:(e,s,a)=>{a.d(s,{r:()=>l});var t=a(95155);a(12115);var r=a(34267);let l=e=>(0,t.jsxs)(r.z,{...e,children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("circle",{cx:"12",cy:"10",r:"4"}),(0,t.jsx)("path",{d:"M12 14c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})]})},44623:(e,s,a)=>{a.d(s,{h:()=>l});var t=a(95155);a(12115);var r=a(34267);let l=e=>(0,t.jsx)(r.z,{...e,children:(0,t.jsx)("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})})},60026:(e,s,a)=>{a.d(s,{O:()=>l});var t=a(95155);a(12115);var r=a(34267);let l=e=>(0,t.jsxs)(r.z,{...e,children:[(0,t.jsx)("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),(0,t.jsx)("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),(0,t.jsx)("path",{d:"M4 22h16"}),(0,t.jsx)("path",{d:"M10 14.66V22h4v-7.34"}),(0,t.jsx)("path",{d:"M12 14.66L15.46 9H8.54L12 14.66z"})]})},69526:(e,s,a)=>{a.d(s,{A:()=>j});var t=a(95155),r=a(12115),l=a(52619),n=a.n(l),i=a(15239),d=a(20063),o=a(43853),c=a(44623),x=a(79222),m=a(35877),h=a(8695),u=a(60026),g=a(34267);let p=e=>(0,t.jsxs)(g.z,{...e,children:[(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,t.jsx)("path",{d:"m9 12 2 2 4-4"})]}),j=()=>{let e=(0,r.useContext)(o.B),s=(0,d.useRouter)(),[a,l]=(0,r.useState)(!1),g=(0,r.useRef)(null);if(!e)return null;let{state:j,logout:y}=e;(0,r.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[g]);let f=j.user,b=f?Math.floor(f.xp/100)+1:1,v=f?f.xp%100:0,N=v/100*100;return(0,t.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-40",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(n(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[(0,t.jsx)(i.default,{src:"/logo.png",alt:"HanziFlow Logo",width:40,height:40,className:"rounded-lg"}),(0,t.jsx)("span",{className:"text-xl font-bold text-blue-600 hidden sm:inline",children:"HanziFlow"})]})}),f&&(0,t.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,t.jsxs)(n(),{href:"/leaderboard",className:"flex items-center gap-2 py-2 px-3 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-semibold transition-colors",children:[(0,t.jsx)(u.O,{size:20}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Leaderboard"})]}),(0,t.jsxs)(n(),{href:"/community",className:"flex items-center gap-2 py-2 px-3 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-semibold transition-colors",children:[(0,t.jsx)(x.c,{size:20}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Community"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.h,{className:"h-6 w-6 text-orange-500"}),(0,t.jsx)("span",{className:"font-bold text-lg text-gray-700",children:f.currentStreak})]}),(0,t.jsxs)("div",{className:"hidden md:block w-40",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline mb-1",children:[(0,t.jsxs)("span",{className:"text-sm font-bold text-gray-700",children:["Level ",b]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[v," / ",100," XP"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(N,"%")}})})]}),(0,t.jsxs)("div",{className:"relative",ref:g,children:[(0,t.jsxs)("button",{onClick:()=>l(!a),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)(m.r,{size:32,className:"text-gray-600"}),(0,t.jsx)("span",{className:"hidden lg:inline font-semibold text-gray-800",children:f.name}),(0,t.jsx)(h.D,{size:20,className:"text-gray-500 transition-transform ".concat(a?"rotate-180":"")})]}),a&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 ring-1 ring-black ring-opacity-5",children:[(0,t.jsx)(n(),{href:"/profile",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"My Profile"}),"admin"===f.role&&(0,t.jsxs)(n(),{href:"/admin",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,t.jsx)(p,{size:16,className:"mr-2"}),"Admin Panel"]}),(0,t.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,t.jsx)("button",{onClick:()=>{l(!1),y(),s.push("/login")},className:"w-full text-left block px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]})]})]})})})}},79222:(e,s,a)=>{a.d(s,{c:()=>l});var t=a(95155);a(12115);var r=a(34267);let l=e=>(0,t.jsxs)(r.z,{...e,children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}}]);