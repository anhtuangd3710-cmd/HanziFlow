(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{13871:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(95155),a=s(12115),l=s(43853),i=s(17237),n=s(90255),d=s(29796);let c=()=>{let e=(0,a.useContext)(l.B);if((0,a.useEffect)(()=>{var t;(null==e||null==(t=e.state.user)?void 0:t.role)!=="admin"||e.state.adminUsers||e.fetchAdminUsers(1)},[]),!e)return null;let{state:t,fetchAdminUsers:s,adminDeleteUser:c}=e,{adminUsers:o,adminUsersPagination:x,isLoading:h,user:p}=t;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"User Management"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"XP"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h&&!o?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-10",children:(0,r.jsx)(i.A,{})})}):o&&o.length>0?o.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-semibold text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:e.email}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full ".concat("admin"===e.role?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.role})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-blue-600 font-semibold",children:e.xp.toLocaleString()}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-500",children:(e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")(e.createdAt)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("button",{onClick:()=>{var t,s;return t=e._id,s=e.name,void(window.confirm('Are you sure you want to delete the user "'.concat(s,'"? This action cannot be undone.'))&&c(t))},disabled:e._id===(null==p?void 0:p._id),className:"p-2 text-gray-400 hover:text-red-600 rounded-full disabled:text-gray-300 disabled:cursor-not-allowed",title:e._id===(null==p?void 0:p._id)?"Cannot delete yourself":"Delete User",children:(0,r.jsx)(d.u,{size:20})})})]},e._id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-10 text-gray-500",children:"No users found."})})})]})}),x&&x.totalPages>1&&(0,r.jsx)("div",{className:"p-4 border-t flex justify-center",children:(0,r.jsx)(n.A,{currentPage:x.currentPage,totalPages:x.totalPages,onPageChange:e=>{s(e)},isDisabled:h})})]})]})};function o(){return(0,r.jsx)(c,{})}},17237:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(95155);s(12115);let a=()=>(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})},29796:(e,t,s)=>{"use strict";s.d(t,{u:()=>l});var r=s(95155);s(12115);var a=s(34267);let l=e=>(0,r.jsxs)(a.z,{...e,children:[(0,r.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,r.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})},34267:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(95155);s(12115);let a=e=>{let{children:t,size:s=24,className:a="",...l}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,...l,children:t})}},47284:(e,t,s)=>{Promise.resolve().then(s.bind(s,13871))},90255:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(95155);s(12115);var a=s(34267);let l=e=>(0,r.jsx)(a.z,{...e,children:(0,r.jsx)("polyline",{points:"15 18 9 12 15 6"})}),i=e=>(0,r.jsx)(a.z,{...e,children:(0,r.jsx)("polyline",{points:"9 18 15 12 9 6"})}),n=e=>{let{currentPage:t,totalPages:s,onPageChange:a,isDisabled:n=!1}=e,d=(()=>{let e=[],r=Math.floor(2.5);if(s<=5)for(let t=1;t<=s;t++)e.push(t);else if(t<=r){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(s)}else if(t>=s-r){e.push(1),e.push("...");for(let t=s-3;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e})(),c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"h-10 px-4 flex items-center justify-center font-semibold rounded-md transition-colors border ".concat(e?"bg-blue-600 border-blue-600 text-white cursor-default":"bg-white border-gray-300 text-gray-600 hover:bg-gray-100"," disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed")};return(0,r.jsx)("nav",{"aria-label":"Pagination",children:(0,r.jsxs)("ul",{className:"flex items-center gap-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>a(t-1),disabled:1===t||n,className:"".concat(c()," p-2"),"aria-label":"Go to previous page",children:(0,r.jsx)(l,{size:20})})}),d.map((e,s)=>(0,r.jsx)("li",{children:"number"==typeof e?(0,r.jsx)("button",{onClick:()=>a(e),disabled:n,className:c(e===t),"aria-current":e===t?"page":void 0,children:e}):(0,r.jsx)("span",{className:"h-10 px-4 flex items-center justify-center text-gray-500",children:e})},s)),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>a(t+1),disabled:t===s||n,className:"".concat(c()," p-2"),"aria-label":"Go to next page",children:(0,r.jsx)(i,{size:20})})})]})})}}},e=>{e.O(0,[798,853,441,255,358],()=>e(e.s=47284)),_N_E=e.O()}]);