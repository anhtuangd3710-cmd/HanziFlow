(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{3903:(e,s,t)=>{"use strict";t.d(s,{R:()=>l});var a=t(95155);t(12115);var r=t(34267);let l=e=>(0,a.jsxs)(r.z,{...e,children:[(0,a.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),(0,a.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})},12696:(e,s,t)=>{Promise.resolve().then(t.bind(t,16053))},16053:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(95155),r=t(12115),l=t(17237),n=t(43853),i=t(35877),c=t(75564),d=t(34267);let o=e=>(0,a.jsxs)(d.z,{...e,children:[(0,a.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,a.jsx)("polyline",{points:"8.21 13.89 7 22 12 17 17 22 15.79 13.88"})]});var x=t(44623),m=t(3903),h=t(63056);let u=e=>{let{currentUser:s,onClose:t}=e,i=(0,r.useContext)(n.B),[c,d]=(0,r.useState)(s.name);if(!i)return null;let{state:o,updateUserProfile:x}=i,m=async()=>{if(!c.trim())return void alert("Name cannot be empty.");await x({name:c.trim()}),t()};return(0,a.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md animate-fade-in",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Profile"})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{id:"name",type:"text",value:c,onChange:e=>d(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("p",{className:"mt-1 text-gray-500 bg-gray-100 p-2 rounded-md",children:s.email})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,a.jsx)("button",{onClick:m,disabled:o.isLoading,className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 w-32 text-center disabled:bg-blue-400",children:o.isLoading?(0,a.jsx)(l.A,{}):"Save Changes"})]})]}),(0,a.jsx)("style",{children:"\n                @keyframes fade-in {\n                    from { opacity: 0; transform: scale(0.95); }\n                    to { opacity: 1; transform: scale(1); }\n                }\n                .animate-fade-in {\n                    animation: fade-in 0.2s ease-out forwards;\n                }\n            "})]})},g=e=>{let{icon:s,label:t,value:r}=e;return(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center",children:[(0,a.jsx)("div",{className:"bg-gray-200 p-3 rounded-full mr-4",children:s}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:t}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-800",children:r})]})]})},j=()=>{let e=(0,r.useContext)(n.B),[s,t]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{e&&!e.state.profileQuizHistory&&e.fetchProfileHistory()},[e]),!e)return(0,a.jsx)(l.A,{});let{state:d}=e,{user:j,userStats:y,setsPagination:b,profileQuizHistory:p,isLoading:v}=d;return j?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md flex flex-col sm:flex-row items-center gap-6",children:[(0,a.jsx)(i.r,{size:80,className:"text-gray-400"}),(0,a.jsxs)("div",{className:"flex-grow text-center sm:text-left",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:j.name}),(0,a.jsx)("p",{className:"text-gray-500",children:j.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Member since ",(e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")(j.createdAt)]})]}),(0,a.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors",children:[(0,a.jsx)(c.q,{size:16,className:"mr-2"}),"Edit Profile"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(g,{icon:(0,a.jsx)(o,{className:"text-yellow-600"}),label:"Total XP",value:j.xp}),(0,a.jsx)(g,{icon:(0,a.jsx)(x.h,{className:"text-orange-500"}),label:"Current Streak",value:"".concat(j.currentStreak," days")}),(0,a.jsx)(g,{icon:(0,a.jsx)(h.s,{className:"text-blue-500"}),label:"Sets Created",value:(null==b?void 0:b.totalSets)||0}),(0,a.jsx)(g,{icon:(0,a.jsx)(m.R,{className:"text-green-500"}),label:"Words Learned",value:(null==y?void 0:y.mastery.total)||0})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Full Quiz History"}),v&&!p?(0,a.jsxs)("div",{className:"flex justify-center items-center h-40",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading history..."})]}):p&&p.length>0?(0,a.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:p.map(e=>{let s=e.total>0?Math.round(e.score/e.total*100):0;return(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-700",children:e.vocabSet.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(e=>{let s=new Date(e),t=Math.round((new Date().getTime()-s.getTime())/1e3),a=Math.round(t/60),r=Math.round(a/60),l=Math.round(r/24);return t<60?"just now":a<60?"".concat(a," minute").concat(a>1?"s":""," ago"):r<24?"".concat(r," hour").concat(r>1?"s":""," ago"):l<7?"".concat(l," day").concat(l>1?"s":""," ago"):s.toLocaleDateString()})(e.createdAt)})]}),(0,a.jsxs)("p",{className:"font-bold text-blue-600 text-lg",children:[e.score,"/",e.total," (",s,"%)"]})]},e._id)})}):(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No quiz history found. Complete a quiz to see your results here!"})]}),s&&(0,a.jsx)(u,{currentUser:j,onClose:()=>t(!1)})]}):(0,a.jsx)("div",{className:"text-center",children:"Please log in to view your profile."})};function y(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading page..."})]}),children:(0,a.jsx)(j,{})})}},17237:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(95155);t(12115);let r=()=>(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})},34267:(e,s,t)=>{"use strict";t.d(s,{z:()=>r});var a=t(95155);t(12115);let r=e=>{let{children:s,size:t=24,className:r="",...l}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,...l,children:s})}},35877:(e,s,t)=>{"use strict";t.d(s,{r:()=>l});var a=t(95155);t(12115);var r=t(34267);let l=e=>(0,a.jsxs)(r.z,{...e,children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("circle",{cx:"12",cy:"10",r:"4"}),(0,a.jsx)("path",{d:"M12 14c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})]})},44623:(e,s,t)=>{"use strict";t.d(s,{h:()=>l});var a=t(95155);t(12115);var r=t(34267);let l=e=>(0,a.jsx)(r.z,{...e,children:(0,a.jsx)("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})})},63056:(e,s,t)=>{"use strict";t.d(s,{s:()=>l});var a=t(95155);t(12115);var r=t(34267);let l=e=>(0,a.jsxs)(r.z,{...e,children:[(0,a.jsx)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),(0,a.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),(0,a.jsx)("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),(0,a.jsx)("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]})},75564:(e,s,t)=>{"use strict";t.d(s,{q:()=>l});var a=t(95155);t(12115);var r=t(34267);let l=e=>(0,a.jsxs)(r.z,{...e,children:[(0,a.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,a.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}},e=>{e.O(0,[798,853,441,255,358],()=>e(e.s=12696)),_N_E=e.O()}]);